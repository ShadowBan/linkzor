<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/core-header-panel/core-header-panel.html">
<link rel="import" href="/bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="/bower_components/core-drawer-panel/core-drawer-panel.html">
<link rel="import" href="/bower_components/core-icon-button/core-icon-button.html">


<polymer-element name="lz-app-layout">
  <template>
    <link rel="stylesheet" href="app-layout.css">
    <core-header-panel flex fit>
      <core-toolbar class="core-header">
        <core-icon-button icon="menu" on-tap='{{toggleDrawer}}' hidden?="{{drawerOpen}}"></core-icon-button>
        <span>Hello: {{drawerOpen ? "open" : "closed"}}</span>
        <content select=[header]></content>
      </core-toolbar>
      <core-drawer-panel id='appDrawer'>  
        <content select=[drawer] drawer></content>
        <content select=[main] main></content>
      </core-drawer-panel>
    </core-header-panel>
  </template>
  <script>
    (function () {
      'use strict';
      Polymer({
        drawerOpen: true,
        observe: {
          '$.appDrawer.narrow': 'drawerFoldChange'
        },
        drawerFoldChange: function(oldValue,newValue){
          console.log(!newValue);
          this.drawerOpen = !newValue;
        },
        toggleDrawer: function(){
         this.$.appDrawer.togglePanel();
        }
      });
    })();
  </script>
</polymer-element>